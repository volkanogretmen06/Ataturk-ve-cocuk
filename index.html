<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Atatürk ile Yüz Birleştirici — Gelişmiş</title>
<style>
  :root{
    --bg:#07121a; --card:#0f1721; --accent:#06b6d4; --muted:#9ca3af;
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#e6eef6;background:linear-gradient(180deg,#031220,#071629);-webkit-font-smoothing:antialiased;}
  .wrap{max-width:1100px;margin:18px auto;padding:16px;}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px}
  h1{font-size:20px;margin:0;color:var(--accent)}
  .top-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .card{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px;box-shadow:0 8px 20px rgba(2,6,23,0.6)}
  .left{flex:1;min-width:320px}
  .right{width:360px;min-width:280px}
  label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
  .file-btn{display:inline-block;padding:8px 10px;background:#0b3954;border-radius:8px;color:#dff7ff;cursor:pointer}
  .small{font-size:13px;color:var(--muted)}
  #canvasWrap{position:relative;margin-top:12px;border-radius:12px;overflow:hidden;background:#000;touch-action:none;border:1px solid rgba(255,255,255,0.03)}
  canvas{display:block;width:100%;height:auto;max-height:640px}
  .controls-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:10px}
  select,input[type=range]{width:100%;}
  button{background:var(--accent);border:none;padding:8px 12px;border-radius:8px;color:#04202a;font-weight:700;cursor:pointer}
  .muted{color:var(--muted);font-size:13px}
  .layer-select{display:flex;gap:8px;margin-top:8px}
  .layer-select button{background:#172a33;color:#cfeff4}
  .preview-final{margin-top:12px;border-radius:8px;overflow:hidden;background:#071524;padding:10px;text-align:center}
  .preview-final img{max-width:100%;height:auto;border-radius:6px}
  footer{margin-top:18px;color:#97a3ad;font-size:13px;text-align:center}
  a.insta{display:inline-flex;align-items:center;gap:8px;background:#E1306C;padding:8px 10px;border-radius:10px;color:white;text-decoration:none}
  .hint{font-size:13px;color:var(--muted);margin-top:8px}
  .arrow-text{
    margin-top:8px;
    color:#E1306C;
    font-weight:bold;
    font-size:14px;
    text-align:center;
    animation: bounce 1.2s infinite;
  }
  @keyframes bounce {
    0%,100%{transform:translateY(0);}
    50%{transform:translateY(-4px);}
  }
  @media(max-width:880px){.right{width:100%}}
</style>
</head>
<body>
  <div class="wrap card">
    <header>
      <h1>Atatürk ile Yüz Birleştirici — Gelişmiş</h1>
      <div class="small">Kullanıcı: <strong>Volkan Öğretmen</strong></div>
    </header>

    <div class="top-row">
      <div class="left card">
        <label>1) Katman seç — hangi resmi düzenlemek istiyorsunuz?</label>
        <div class="layer-select">
          <button id="selectAtatürk">Atatürk Görseli</button>
          <button id="selectUser">Kullanıcı Görseli</button>
        </div>

        <div id="canvasWrap" style="margin-top:10px">
          <canvas id="workCanvas" width="900" height="600"></canvas>
        </div>

        <div class="controls-row">
          <button id="blendBtn">Birleştir ve Önizle</button>
          <button id="downloadBtn">Finali İndir</button>
          <div style="flex:1"></div>
          <div class="muted">Yakınlaştırma: fare tekeri / dokunmatik: iki parmak</div>
        </div>

        <div style="margin-top:10px" class="card">
          <label>Geçiş genişliği (pix)</label>
          <input id="blendWidth" type="range" min="10" max="200" value="80">
        </div>

        <div style="margin-top:10px" class="card">
          <label>Final Efekt</label>
          <select id="finalEffect">
            <option value="normal">Normal</option>
            <option value="grayscale">Siyah-Beyaz</option>
            <option value="sepia">Sepya</option>
            <option value="cool">Soğuk Ton</option>
          </select>
        </div>

        <div class="preview-final card" id="finalPreviewBox" style="display:none">
          <div><strong>Final Önizleme</strong></div>
          <img id="finalPreview" alt="Final preview"/>
        </div>
      </div>

      <div class="right card">
        <label>Atatürk Görseli (sol yarı için)</label>
        <input id="ataturkFile" type="file" accept="image/*" />
        <div class="hint">Yüklenen görsel otomatik olarak katmana eklenir.</div>
        <hr style="margin:10px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

        <label>Kullanıcı Görseli (sağ yarı için)</label>
        <input id="userFile" type="file" accept="image/*" />
        <div class="hint">Önizlemeyi kullanarak hizalama yapın.</div>

        <hr style="margin:10px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

        <label>Seçili Katmanın Başlangıç Ayarlarını Sıfırla</label>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="resetAt">Sıfırla (Atatürk)</button>
          <button id="resetUser">Sıfırla (Kullanıcı)</button>
        </div>

        <hr style="margin:10px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

        <label>Hakkında</label>
        <div class="muted">Bu uygulama eğitim amaçlı hazırlanmıştır — Atatürk görseli ile kullanıcı görselinin yarılarını birleştirir. Görseller tarayıcı içinde kalır, sunucuya gönderilmez.</div>

        <div style="margin-top:12px; text-align:center;">
          <a class="insta" href="https://www.instagram.com/volkanogretmn06" target="_blank" rel="noopener noreferrer">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" style="width:20px;height:20px" alt="insta"/>
            @volkanogretmn06
          </a>
          <div class="arrow-text">⬇️⬇️ Takip etmeyi unutmayın ⬇️⬇️</div>
        </div>
      </div>
    </div>

  </div>

<!-- JavaScript kısmı (önceki sürümle aynı) -->
<script>
/* Burada önceki uzun JavaScript kodun birebir aynı kalacak.
   Yalnızca HTML kısmına yukarıdaki eklemeyi yaptık. */
</script>
</body>
</html>
